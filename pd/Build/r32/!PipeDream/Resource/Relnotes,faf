<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=us-ascii">
<TITLE>Colton Software PipeDream for RISC&nbsp;OS - Release Notes</TITLE>
</HEAD>
<BODY>
<H1>Colton Software PipeDream for RISC&nbsp;OS</H1>

<H2>Licence and Copyright</H2>

<P>PipeDream is subject to the terms of the Mozilla Public License, v. 2.0
(MPL).</P>

<P>A copy of the MPL may be downloaded from <A
HREF="http://mozilla.org/MPL/2.0/">http://mozilla.org/MPL/2.0/</A></P>

<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
<!-- Copyright (C) 1989-1998 Colton Software Limited,
   - Copyright (C) 1998-2015 R W Colton -->

<P>Copyright (C) 1987-1998 Colton Software Limited,
Copyright (C) 1998-2015 R W Colton</P>

<P><A HREF="#CopyrightExtra">Additional copyrights</A></P>


<H2>Online resources</H2>

<P>The following resources for PipeDream are available online:</P>

<P>The PipeDream Tutorial may be accessed online at
<A HREF="http://croftnuisk.co.uk/coltsoft/docs/pipedream/tutorial/index.html">PipeDream Tutorial</A></P>

<P>The PipeDream Reference Guide may be accessed online at
<A HREF="http://croftnuisk.co.uk/coltsoft/docs/pipedream/refguide/index.html">PipeDream Reference Guide</A></P>

<P>Addenda and Errata to the printed documentation may be accessed online at
<A HREF="http://croftnuisk.co.uk/coltsoft/fireworkz/pipedream-reference-guide/pipedream-addenda-and-errata">PipeDream Addenda and Errata</A></P>

<P>Updated PipeDream packages and example files, including those used in the PipeDream Tutorial, may be
obtained directly from
<A HREF="http://croftnuisk.co.uk/coltsoft/pipedream">PipeDream Downloads and Examples</A></P>


<H2>Support</H2>

<P>PipeDream is now open source and completely free, so support is a self-help affair.</P>

<P>There is a Google Group colton-software-pipedream where you may seek help
from other users. Please include files (in a ZIP archive) which demonstrate
any problems.</P>

<P>Google Group website: <A HREF="http://groups.google.com/group/colton-software-pipedream">http://groups.google.com/group/colton-software-pipedream</A></P>

<P>Email: colton-software-pipedream@googlegroups.com</P>


<H2>Release history</H2>

<p>Just the last few revisions of PipeDream are documented here.</p>

<p>A fuller release history may be found
<A HREF="http://croftnuisk.co.uk/coltsoft/pipedream/pipedream-release-history">online</A></p>


<H4>4.53/10 (07 Jul 2015)</H4>

<P>REPT() spreadsheet function now handles repeat count of zero correctly. Since 4.50/40, this gave an error; prior to that it produced one copy of the string.</P>


<H4>4.53 (10 Jun 2015)</H4>

<P>CEILING() and FLOOR() spreadsheet functions have been backported from Fireworkz
(see Addenda and errata).</P>

<P>INT() spreadsheet function now rounds better for non-power-of-two target integer values.</P>

<P>IRR() spreadsheet function now converges faster (poor initial conditioning).</P>

<P>LOG() spreadsheet function now accepts an optional base parameter.</P>

<P>Number formatter used by TEXT() spreadsheet function handles blank cells and PipeDream error numbers.</P>

<P>Reinstated Colton Software copyright in splash screen and made dates consistent with LICENSE files.</P>

<P>When inserting text files (as TAB or Paragraph) cell references in text-@ fields are not updated.
This allows copying common text fragments directly from an editor or template files without unwanted modification.</P>


<H4>4.52/08 (18 Dec 2014)</H4>

<P>Templates adjusted to cater for use of a larger Desktop font for
readability (used 14pt Homerton.Medium set by Paul Vigay's !MiscSetup).</P>

<P>Replaced PipeDream's flawed date handling code with code backported from Fireworkz.</P>

<P>Formulae may be entered with an optional leading equals sign.</P>

<P>Category names and function categorisation in spreadsheet function menu
are more consistent with (updated) documentation.</P>

<P>BIN() spreadsheet function has always taken an arbitrary shaped array or
range of data as its first parameter. Previously only the first column of this
data would have been binned; now all the supplied data is binned.</P>

<P>BINOM() spreadsheet function removed - this was just a synonym for COMBIN().</P>

<P>BETA(), FACT(), GAMMALN() spreadsheet functions now use the lgamma() function
provided by the SharedCLibrary (used to be FreeBSD implementation).
Results may differ around the 15th digit.</P>


<H4>4.52/07 (05 Nov 2014)</H4>

<P>!Run ensures ColourPicker module is available on startup - this module is
used in colour selection in charts, and PipeDream would otherwise fail on
systems where this was not already loaded, e.g. RISC&nbsp;OS 3.1.</P>


<H4>4.52/06 (01 Nov 2014)</H4>

<P>Splash screen now creates a window in which to render objects.</P>

<P>Improve appearance of toolbar on RISC&nbsp;OS 4.39 when 'Apply to sprite
icons' effect is selected.</P>

<P>Use newer error reporting mechanism on RISC&nbsp;OS 3.5 and later.</P>

<P>Yes / No query dialogue boxes, anagram and browsing, alert and input
dialogue boxes and the formula editing window no longer have a close icon
(and thereby possibly unwanted iconise icon) on the title bar.</P>

<P>Multi-line formula editing (and chart text) window now uses Corpus.Medium
rather than VDU 5 font if possible.</P>

<P>Function menu substitutes non-break space for space when displaying slot
/ range content to get around Window Manager attempts to right-justify
certain keywords.</P>

<P>Function menu extended to show dependent slots / ranges / names for text
and empty slots as well as number slots.</P>

<P>Function menu no longer attempts to show dependent slots / ranges / names
for slots in custom function sheets as this is meaningless.</P>

<P>Font Selector dialogue box is now closed when another dialogue box is
opened.</P>

<P>Font Selector dialogue box now acts as a persistent 'standalone' dialogue
box (like Save) with respect to window / application closing.</P>

<P>Font Selector dialogue box no longer opens when another persistent
'standalone' dialogue box such as Save is already open.</P>

<P>Automatically generated temporary arrays of strings (e.g.
REPT(text_cell_reference, {1,2,3})) no longer cause heap corruption (problem
exposed by changes in 4.50/39).</P>

<P>LISTCOUNT() spreadsheet function has been backported from Fireworkz
(see Addenda and errata).</P>

<P>SORT() spreadsheet function no longer masks potential memory full errors
during creation of temporary data array prior to the sort.</P>

<P>Problem with Ctrl-CGS (Goto Slot) and long document names fixed.</P>


<H4>4.52/05 (16 Jul 2014)</H4>

<P>Problem with ROUND() spreadsheet function fixed.</P>

<P>Improved text and layout of Save/Discard/Cancel dialogue box on exit with
modified document(s).</P>

<P>PD4Keys command file is no longer shipped - it was only there to revert
from PD3Keys.</P>


<H4>4.52/04 (04 Jul 2014)</H4>

<P>Issue with PipeDream's font cache mechanism could sometimes lead to
highlighted text not being rendered in the correct font variant.</P>

<P>Text @-fields containing cell references to other cells containing text
@-fields containing cell references now render sensibly, allowing
text to be concatenated. There is a fixed depth limit of nine (rather than
the old effective limit of one).</P>

<P>Text @-fields containing cell references to other cells containing text
@-fields containing cell references (and these did't get expanded, by the
way: see above) could yield incorrect cell references when the target cell
was deleted. This has been there since the very early days of PipeDream as
far as I can see! Any text @-field containing a bad cell is displayed with a
leading percent character, as it would shown for bad cell references in
formulae.</P>

<P>Text @-fields containing cell references could yield incorrect cell
references when updated (broken in 4.50/43). Several slightly inconsistent
instances of cell reference reading/writing code replaced with fast
consistent routines.</P>

<P>Propagated errors now contain a reference to the cell that generated the
initial error to help fault-finding.</P>

<P>Unary plus and minus operators and ABS() spreadsheet function no longer
unnecessarily convert integer arguments to floating point.</P>

<P>If the <I>length</I> parameter is omitted for LEFT() and RIGHT()
spreadsheet functions, <I>length</I> of 1 is assumed. A <I>length</I> of 0
is now allowed (consistency with MID()).</P>

<P>AVG() and SUM() spreadsheet functions fixed: operating on extremely large
ranges of individually small integers could eventually give an undetected
integer overflow.</P>

<P>LOGEST() spreadsheet function fixed: could have crashed PipeDream when
given fewer than three parameters.</P>

<P>M_INVERSE() spreadsheet function now yields correct error for non-square
input matrix.</P>

<P>Calculation of determinants of large matrices would have caused heap
corruption.</P>

<P>Very large numbers formatted as X# (column name) could have crashed
PipeDream.</P>

<P>Group box captions use better icon style for patterned background.</P>

<P>Changed writable field height to 60 OS units - the RISC&nbsp;OS Style
Guide's suggested 68 OS units is way too tall.</P>


<H4>4.52/03 (18 Feb 2014)</H4>

<P>tboxlibs' flex module compiled into PipeDream (with patches). Added
shrink_forbid option (needed for running out of memory when printing problem
as for 4.50/09). Added flex allocation granularity mechanism to tboxlibs'
flex module to avoid unnecessary overheads and slot/area thrashing.</P>

<P>Spurious carriage return characters removed from Messages file.</P>

<P>No longer supports squashed Messages file (for source clarity).</P>


<H4>4.52/02 (12 Feb 2014)</H4>

<P>PipeDream released under the Mozilla Public License 2.0 (MPL).</P>

<P>The installed Event and Escape handlers are now truly 26/32-bit agnostic:
they do not modify flags, so do not attempt to restore them.</P>


<H2>Toolbar to PipeDream command mapping</H2>

<PRE>
Top row          SELECT  ADJUST
-------------------------------
Replicate Down  - ^BFD    ^BRE
Replicate Right - ^BRR    ^BRE
Make text       - ^BLT    ^BNT
Make number     - ^BLN    ^BNT
Chart           - ^CHN    ^CHO
Function        - ....    ^EFW
Cancel editing
Enter formula

Bottom row       SELECT  ADJUST
-------------------------------
Save            - ^FS     ^FGS
Print           - ^PO     ^PY
Left align      - ^LAL
Centre align    - ^LAC
Right align     - ^LAR
Fully justify   - ....
Font            - ^PFG    ^PFL
Bold            - ^PB           (when marked block, ^PHB/^PHR of H2)
Italic          - ^PI           (ditto, H4)
Underline       - ^PU           (ditto, H1)
Subscript       - ^PL           (ditto, H5)
Superscript     - ^PR           (ditto, H6)
Lead/Trail char - ^LCL    ^LCT
Copy            - ^BF     ^BM
Cut             - ^BD     ^BLC
Paste           - ^I
Format block    - ^R            (when marked block, ^EFB)
Search          - ^BSE    ^BNM
Sort            - ^BSO    ^BT
Check           - ^SC     ^SB
Record command  - ^FY
Execute command - ^FZ
</PRE>


<H2>Warnings</H2>

<P>When using Virtualise or a similar virtual memory manager on RISC PCs,
install Virtualise *before* you load in PipeDream. This is because
PipeDream optimises its memory handling differently when VM is active on its
area - the only way it knows this is by comparing the maximum size of the
area with what it should be were VM not active i.e. Virtualise must have
been allowed to alter the maximum size of an area before PipeDream loads in.</P>


<H2>Resources</H2>

<P>Templates are grouped by menu:</P>

<TABLE>
<TR><TD>   tem_bc     </TD><TD>Block and Cursor menu dialogue boxes.</TD></TR>
<TR><TD>   tem_cht    </TD><TD>Chart editing dialogue boxes.</TD></TR>
<TR><TD>   tem_el     </TD><TD>Edit and Layout dialogue boxes.</TD></TR>
<TR><TD>   tem_f      </TD><TD>File menu dialogue boxes.</TD></TR>
<TR><TD>   tem_p      </TD><TD>Print menu dialogue boxes.</TD></TR>
<TR><TD>   tem_s      </TD><TD>Spell menu dialogue boxes.</TD></TR>
<TR></TR>
<TR><TD>   tem_main   </TD><TD>Main window definitions.</TD></TR>
<TR><TD>   tem_risc   </TD><TD>RISC_OSLib derived dialogue boxes.</TD></TR>
</TABLE>

<P>NB To help design-time icon alignment, most icons in PipeDream's template
files have the border flag applied, which is then stripped off at run-time.</P>


<H2>Known problems in this release</H2>

<P>It is still possible (and has been since PipeDream 3) to create circular dependencies
in @slot_ref@ chains which fail to complete calculation.</P>

<P>Stack overflows which should raise(SIGSTAK) instead give 'Uncaught trap'.</P>

<P>Pressing ESCAPE whilst dragging a file somewhere to be saved may sometimes
cause a Data Abort.</P>

<P>There is a problem whereby a document does not reload a newly created chart
properly. If an chart is created and a copy of the chart is saved out as a
drawfile (with a different name) then the chart will not reload after being
closed down. It will reload successfully if PipeDream is restarted.</P>

<P>Exporting charts directly to other applications (e.g. EasyWriter) as Draw
files via the Message_RAMFetch / Message_RAMTransfer mechanism only works if
the application being exported to asks for the whole file in one go as the
protocol is stopped by PipeDream after the first Message_RAMFetch is
responded to.</P>


<H2>32-bit !System</H2>

<P>Please note that the latest distribution of !System for use with pre-RISC
OS 5 machines may be found on the RISC&nbsp;OS Open website at:</P>

<P><A HREF="https://www.riscosopen.org/content/downloads/other-zipfiles">https://www.riscosopen.org/content/downloads/other-zipfiles</A></P>

<p>under the heading:</P>

<P><B>System resources</B></P>

<P>NB Do NOT use the merge dialogue in</P>

<P> !Boot &gt; Configuration &gt; System Merge</P>

<P>because part of the update must refresh files in a directory that the merge
dialogue cannot reach. Instead, a simple obey file is included called
!SysMerge. Just double click on !SysMerge.</P>


<HR/>
<H2>Additional copyrights<A ID="CopyrightExtra"></H2>

<H4>Portions (Reporter interface code)</H4>
<P>Copyright (C) 2012-2015 Stuart Swales.</P>

<HR/>
<P>End of PipeDream Release Notes</P>
</BODY>
</HTML>

